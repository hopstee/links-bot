# 🔗 Telegram Link Saver Bot

Link Saver Bot — это Telegram-бот на NestJS, позволяющий сохранять ссылки с короткими кодами. Любой пользователь может получить доступ к сохранённой ссылке по коду, даже если он её не добавлял.
### 📌 Возможности
- Сохраняй ссылки и получай короткий код
- Доступ к ссылкам по коду без авторизации
- Просмотр всех своих сохранённых ссылок
- Пагинация при большом количестве ссылок
- Удаление и поиск по коду через команды
- Реализован на NestJS с использованием nestjs-telegraf

### 🛠 Используемые технологии
- NestJS
- nestjs-telegraf
- TypeScript
- Telegram Bot API
- Сцены (Scenes) для пошагового взаимодействия

### 🤖 Поддерживаемые команды
| Команда       | Описание                               |
|---------------|----------------------------------------|
| `/start`      | Приветствие и регистрация пользователя |
| `/addlink`	  | Добавить новую ссылку                  |
| `/getlink`	  | Найти ссылку по коду                   |
| `/deletelink` |	Удалить ссылку по коду                 |
| `/alllinks` 	| Посмотреть все свои ссылки с кодами    |

### 🔐 Важные замечания
- Ссылки доступны всем, кто знает код. Это не защищённое хранилище.
- Подходит для быстрого шаринга ссылок через Telegram.

### 🗂️ Структура проекта
```bash
.
├── README.md                             # Документация проекта
├── database.sqlite                       # SQLite-база данных
├── nest-cli.json                         # Конфигурация Nest CLI
├── package-lock.json                     # Лок-файл npm для фиксации зависимостей
├── package.json                          # Манифест проекта: зависимости, скрипты, мета-инфо
├── tsconfig.json                         # Конфигурация TypeScript
├── tsconfig.build.json                   # Отдельный tsconfig для сборки проекта
├── test/
│   ├── app.e2e-spec.ts                   # E2E-тест для приложения
│   └── jest-e2e.json                     # Конфиг для запуска e2e-тестов с Jest
├── utils/
│   ├── mask.ts                           # Маскирование ссылок
│   └── url.ts                            # Утилита для валидации ссылок
└── src/
    ├── main.ts                           # Точка входа в приложение
    ├── app.module.ts                     # Корневой модуль Nest-приложения

    ├── bot/
    │   ├── bot-config.factory.ts         # Конфигурация бота (чтение токена и настроек из ENV)
    │   ├── bot.module.ts                 # Модуль с ботом и сценами
    │   ├── bot.service.ts                # Основная логика обработки команд (Start, /addlink, /getlink и др.)
    │   ├── types/
    │   │   └── telegram.message.type.ts  # Типизация сообщений Telegram
    │   └── scenes/                       # Сцены диалогов (пошаговое взаимодействие)
    │       ├── add.link.scene.ts         # Сцена добавления ссылки
    │       ├── delete.link.scene.ts      # Сцена удаления ссылки
    │       └── get.link.scene.ts         # Сцена получения ссылки по коду

    ├── database/                         # Конфигурация БД
    │   └── sqlite.config.ts              # Подключение и настройки SQLite

    ├── link/                             # Работа со ссылками
    │   ├── dto/
    │   │   └── link.create.dto.ts        # DTO для создания ссылки
    │   ├── entity/
    │   │   └── link.entity.ts            # Сущность ссылки для TypeORM
    │   ├── link.module.ts                # Nest-модуль для работы со ссылками
    │   └── link.service.ts               # Бизнес-логика: сохранение, поиск, удаление ссылок

    └── user/                             # Работа с пользователями
        ├── dto/
        │   └── user.create.dto.ts        # DTO для создания пользователя
        ├── entity/
        │   └── user.entity.ts            # Сущность пользователя
        ├── user.module.ts                # Nest-модуль для работы с пользователями
        ├── user.service.ts               # Сервис регистрации и поиска пользователей
        └── user.service.spec.ts          # Тесты для сервиса пользователей

```
